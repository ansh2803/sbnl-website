<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Package Details | SBNL Holidays</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    />
    <link rel="icon" type="image/svg+xml" href="favicon/favicon.svg" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#F97316", // Orange
              secondary: "#EA580C", // Dark Orange
              accent: "#1D4ED8", // Blue (small highlights only)
              dark: "#1F2937",
              light: "#FFFFFF",
            },
          },
        },
      };
    </script>

    <style>
      body {
        font-family: "Poppins", sans-serif;
      }
      
      h1, h2, h3, h4, h5, h6 {
        font-family: "Playfair Display", serif;
      }

      .reveal {
        opacity: 0;
        transform: translateY(40px);
        transition: all 0.8s ease;
      }
      .reveal.active {
        opacity: 1;
        transform: translateY(0);
      }

      .card-hover {
        transition: all 0.4s ease;
      }
      .card-hover:hover {
        transform: translateY(-10px) scale(1.03);
        box-shadow: 0 25px 50px rgba(0, 0, 0, 0.18);
      }
    </style>
  </head>

  <body class="bg-white text-dark overflow-x-hidden">
    <!-- NAVBAR -->
    <div id="header"></div>

    <!-- HERO -->
    <section
      class="relative h-[500px] flex items-center justify-center overflow-hidden"
    >
      <img
        id="heroImage"
        class="absolute w-full h-full object-cover scale-110 transition duration-[3000ms] hover:scale-125"
      />
      <div
        class="absolute inset-0 bg-gradient-to-t from-black via-black/40 to-transparent"
      ></div>
      <div class="relative text-white text-center reveal">
        <h2
          id="packageTitle"
          class="text-5xl font-extrabold drop-shadow-lg"
        ></h2>
        <p id="packageLocation" class="text-xl mt-3 opacity-90"></p>
      </div>
    </section>

    <!-- DETAILS -->
    <section class="py-20">
      <div class="max-w-6xl mx-auto px-6 grid md:grid-cols-2 gap-12">
        <div class="space-y-8 reveal">
          <div
            class="bg-white/60 backdrop-blur-lg p-8 rounded-3xl shadow-xl card-hover"
          >
            <h3 class="text-2xl font-bold mb-3">About This Trip</h3>
            <p
              id="packageDescription"
              class="text-gray-700 leading-relaxed"
            ></p>
          </div>

          <div class="flex gap-6">
            <div
              class="flex-1 bg-blue-600 text-white p-6 rounded-2xl shadow-lg card-hover"
            >
              <p class="text-sm">Original Price</p>
              <h4 id="packagePrice" class="text-3xl font-bold"></h4>
            </div>

            <div
              class="flex-1 bg-red-500 text-white p-6 rounded-2xl shadow-lg card-hover"
            >
              <p class="text-sm">Offer Price</p>
              <h4 id="packageOffer" class="text-3xl font-bold"></h4>
            </div>
          </div>
        </div>

        <div
          class="bg-white/60 backdrop-blur-lg p-8 rounded-3xl shadow-xl card-hover reveal"
        >
          <h3 class="text-2xl font-bold mb-4">Package Includes</h3>
          <ul id="packageIncludes" class="space-y-3"></ul>
        </div>
      </div>
    </section>

    <!-- THINGS TO DO -->
    <section class="py-20 bg-white">
      <div class="max-w-6xl mx-auto px-6">
        <h3 class="text-3xl font-bold text-center mb-12 reveal">
          ‚ú® Things To Do
        </h3>
        <ul id="thingsTodo" class="grid md:grid-cols-3 gap-8"></ul>
      </div>
    </section>
    <!-- Gallery Images -->
    <section class="py-20 bg-gray-100">
      <div class="max-w-6xl mx-auto px-6">
        <h3 class="text-3xl font-bold text-center mb-12 reveal">
          Offer Banner
        </h3>
        <div class="grid md:grid-cols-3 gap-8">
          <img id="g1" class="rounded-3xl shadow-lg h-64 w-full object-cover" />
          <img id="g2" class="rounded-3xl shadow-lg h-64 w-full object-cover" />
          <img id="g3" class="rounded-3xl shadow-lg h-64 w-full object-cover" />
        </div>
      </div>
    </section>

    <!-- ATTRACTIONS -->
    <section class="py-20">
      <div class="max-w-6xl mx-auto px-6">
        <h3 class="text-3xl font-bold text-center mb-12 reveal">
          üìç Top Attractions
        </h3>
        <ul id="topAttractions" class="grid md:grid-cols-3 gap-8"></ul>
      </div>
    </section>

    <!-- BOOK BUTTON -->
    <button
      onclick="window.location.href = 'contact.html?id=' + id"
      class="fixed bottom-8 right-8 bg-blue-600 text-white px-6 py-4 rounded-full shadow-2xl hover:scale-110 transition"
    >
      Book Now ‚úàÔ∏è
    </button>

    <!-- SCRIPT -->
    <script>
      const params = new URLSearchParams(window.location.search);
      const id = params.get("id");

      async function loadPackage() {
        const res = await fetch(
          `https://sbnl-website.onrender.com/api/packages/${id}`,
        );
        const pkg = await res.json();

        // const base = "http://https://sbnl-website.onrender.com//uploads/";
        const BASE_URL = "https://sbnl-website.onrender.com";
        const base = `${BASE_URL}/uploads/`;

        if (pkg.image) heroImage.src = base + pkg.image;
        packageTitle.innerText = pkg.title;
        packageLocation.innerText = pkg.location;
        packageDescription.innerText = pkg.description;
        packagePrice.innerText = "‚Çπ" + pkg.price;
        packageOffer.innerText = pkg.offerPrice
          ? "‚Çπ" + pkg.offerPrice
          : "No Offer";

        (pkg.includes || []).forEach(
          (i) => (packageIncludes.innerHTML += `<li>‚úî ${i}</li>`),
        );
        (pkg.thingsToDo || []).forEach(
          (i) =>
            (thingsTodo.innerHTML += `<li class="bg-gray-100 p-8 rounded-3xl shadow-lg card-hover reveal">${i}</li>`),
        );
        (pkg.attractions || []).forEach(
          (i) =>
            (topAttractions.innerHTML += `<li class="bg-gray-100 p-8 rounded-3xl shadow-lg card-hover reveal">${i}</li>`),
        );

        const gallery = pkg.galleryImages || [];
        [0, 1, 2].forEach((i) => {
          const el = document.getElementById("g" + (i + 1));
          if (el) {
            if (gallery[i]) {
              el.src = base + gallery[i];
              el.style.display = "";
            } else el.style.display = "none";
          }
        });
      }

      loadPackage();

      function revealOnScroll() {
        document.querySelectorAll(".reveal").forEach((el) => {
          if (el.getBoundingClientRect().top < window.innerHeight - 100) {
            el.classList.add("active");
          }
        });
      }
      window.addEventListener("scroll", revealOnScroll);
      revealOnScroll();
    </script>
    <script>
      fetch("header.html")
        .then((res) => res.text())
        .then((data) => {
          document.getElementById("header").innerHTML = data;
        });
    </script>
  </body>
</html>
